{% extends "siteapp/base.html" %}
{% load static %}

{% block title %}Témoignages | NovaWeb{% endblock %}

{% block content %}
<section class="text-center mb-5">
    <h2 class="fw-bold">Témoignages de nos clients</h2>
    <p>Ils ont suivi nos formations ou utilisé nos applications</p>
</section>

<div class="row justify-content-center">
    {% for temoignage in temoignages %}
    <div class="col-md-4 mb-4">
        <div class="card h-100 shadow-sm p-4 position-relative temoignage-card">

            <!-- Pastille nom + photo -->
            {% if temoignage.nom %}
            <div class="name-badge d-flex align-items-center justify-content-center">
                {% if temoignage.photo %}
                    <img src="{{ temoignage.photo.url }}" class="rounded-circle me-2">
                {% endif %}
                <span>{{ temoignage.nom }}</span>
            </div>
            {% endif %}

            <!-- Texte témoignage -->
            <blockquote class="blockquote mt-5 mb-0 text-center">
                <p class="fst-italic">"{{ temoignage.message }}"</p>
            </blockquote>
        </div>
    </div>
    {% empty %}
    <p class="text-center">Aucun témoignage disponible pour le moment.</p>
    {% endfor %}
</div>

<div class="text-center mt-4">
    <a href="{% url 'ajou' %}" class="btn btn-primary">
        <i class="fa fa-comment"></i> Laisser un témoignage
    </a>
</div>

<style>
/* Carte témoignage moderne */
.temoignage-card {
    background: #f0f4f8;
    border-radius: 15px;
    padding-top: 70px; /* espace pour la pastille */
    transition: transform 0.3s, box-shadow 0.3s;
}
.temoignage-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0,0,0,0.15);
}

/* Pastille nom + photo */
.name-badge {
    position: absolute;
    top: -20px;
    left: 50%;
    transform: translateX(-50%);
    background-color: #2E86C1;
    color: #fff;
    font-weight: 600;
    padding: 8px 16px;
    border-radius: 50px;
    box-shadow: 0 3px 8px rgba(0,0,0,0.2);
    font-size: 1rem;
}

/* Image dans pastille */
.name-badge img {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    object-fit: cover;
}

/* Texte du témoignage */
.temoignage-card blockquote p {
    color: #1F618D;
    font-size: 0.95rem;
    line-height: 1.5;
}
</style>
{% endblock %}
