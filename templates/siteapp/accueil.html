{% extends "siteapp/base.html" %}
{% load static %}

{% block title %}Accueil | NovaWeb{% endblock %}

{% block content %}

<!-- ==================== Hero principal ==================== -->


<!-- ==================== Nos Experts ==================== -->
<section class="expert py-5" id="expert">
    <div class="col50 text-center mb-4" data-aos="fade-up">
        <h2 class="titre">Nos <span>E</span>xperts</h2>
        <p>Découvrez nos experts passionnés, prêts à partager leurs compétences et à vous accompagner dans vos projets numériques.</p>
    </div>

    <div class="contenu row justify-content-center g-4">
        {% for membre in equipes %}
        <div class="box col-lg-3 col-md-4 col-sm-6 text-center" data-aos="fade-up" data-aos-delay="{{ forloop.counter0|add:'100' }}">
            <div class="imbox mb-2">
                {% if membre.photo %}
                <img src="{{ membre.photo.url }}" alt="{{ membre.nom }}" style="width:100%; height:300px; object-fit:cover; border-radius:10px;">
                {% else %}
                <img src="{% static 'siteapp/images/default-user.jpg' %}" alt="{{ membre.nom }}" style="width:100%; height:300px; object-fit:cover; border-radius:10px;">
                {% endif %}
            </div>
            <div class="text">
                <h3>{{ membre.nom }}</h3>
                <p class="text-muted">{{ membre.poste }}</p>
            </div>
        </div>
        {% endfor %}
    </div>
</section>

<!-- ==================== Nos Services ==================== -->
<section class="services py-5 bg-light">
    <div class="container text-center">
        <h3 class="fw-bold mb-5" data-aos="fade-up">Nos Services</h3>
        <div class="row justify-content-center g-4">
            {% for service in services %}
            <div class="col-lg-3 col-md-4 col-sm-6" data-aos="zoom-in" data-aos-delay="{{ forloop.counter0|add:'100' }}">
                <div class="card h-100 shadow-sm p-4 service-card text-center border-0">
                    {% if service.icone %}
                    <div class="service-icon mb-3">
                        <i class="{{ service.icone }} fa-3x" style="color:#1F618D;"></i>
                    </div>
                    {% endif %}
                    <h5 class="fw-bold mb-2">{{ service.titre }}</h5>
                    <p class="text-muted">{{ service.description|truncatewords:20 }}</p>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- ==================== Nos Formations ==================== -->
<section class="formations py-5 text-center">
    <h3 class="fw-bold mb-4" data-aos="fade-up">Nos Formations</h3>
    <div class="row g-4 justify-content-center">
        {% for formation in formations %}
        <div class="col-md-4 mb-4" data-aos="fade-up" data-aos-delay="{{ forloop.counter0|add:'100' }}">
            <div class="card h-100 shadow-sm formation-card">
                {% if formation.image %}
                <img src="{{ formation.image.url }}" class="card-img-top formation-img" alt="{{ formation.titre }}">
                {% endif %}
                <div class="card-body text-center d-flex flex-column">
                    <h5 class="card-title fw-bold">{{ formation.titre }}</h5>
                    <p class="text-muted">{{ formation.description|truncatewords:20 }}</p>
                    <p class="fw-semibold">
                        <strong>Durée :</strong> {{ formation.duree }} |
                        <strong>Prix :</strong> {{ formation.tarif }} GNF
                    </p>
                    <a href="{% url 'contact' %}?formation_id={{ formation.id }}" class="btn btn-primary mt-auto">
                        S'inscrire
                    </a>
                </div>
            </div>
        </div>
        {% empty %}
        <p class="text-center">Aucune formation disponible pour le moment.</p>
        {% endfor %}
    </div>
</section>

<!-- ==================== Nos Applications ==================== -->
<section class="applications py-5 text-center">
    <h3 class="fw-bold mb-4" data-aos="fade-up">Nos Applications</h3>
    <p data-aos="fade-up">Découvrez nos solutions numériques innovantes.</p>
    <div class="row g-4 justify-content-center">
        {% for app in applications %}
        <div class="col-lg-4 col-md-6 col-sm-12" data-aos="fade-up" data-aos-delay="{{ forloop.counter0|add:'100' }}">
            <div class="card h-100 shadow-sm border-0">
                {% if app.video %}
                <video class="card-img-top" controls style="height:220px; object-fit:cover; border-radius:0.5rem 0.5rem 0 0;">
                    <source src="{{ app.video.url }}" type="video/mp4">
                    Votre navigateur ne supporte pas la lecture de vidéos.
                </video>
                {% endif %}
                <div class="card-body text-center d-flex flex-column">
                    <h5 class="card-title fw-bold">{{ app.nom }}</h5>
                    <p class="card-text text-muted">{{ app.description_courte|truncatewords:20 }}</p>
                    <div class="mt-auto">
                        {% if app.lien_demo %}
                        <a href="{{ app.lien_demo }}" class="btn btn-outline-primary btn-sm px-4" target="_blank">Voir la démo</a>
                        {% else %}
                        <a href="{% url 'contact' %}?app_id={{ app.id }}" class="btn btn-success btn-sm px-4">Intéressé ? Contactez-nous</a>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
        {% empty %}
        <p class="text-center">Aucune application disponible pour le moment.</p>
        {% endfor %}
    </div>
</section>

<!-- ==================== Témoignages ==================== -->
<section class="temoignages py-5 text-center">
    <h3 class="fw-bold mb-4" data-aos="fade-up">Témoignages</h3>
    <div class="row justify-content-center g-4">
        {% for temoignage in temoignages %}
        <div class="col-md-4 mb-4" data-aos="fade-up" data-aos-delay="{{ forloop.counter0|add:'100' }}">
            <div class="card h-100 shadow-sm p-4 position-relative temoignage-card">
                {% if temoignage.nom %}
                <div class="name-badge d-flex align-items-center justify-content-center">
                    {% if temoignage.photo %}
                    <img src="{{ temoignage.photo.url }}" class="rounded-circle me-2">
                    {% endif %}
                    <span>{{ temoignage.nom }}</span>
                </div>
                {% endif %}
                <blockquote class="blockquote mt-5 mb-0 text-center">
                    <p class="fst-italic">"{{ temoignage.message }}"</p>
                </blockquote>
            </div>
        </div>
        {% empty %}
        <p class="text-center">Aucun témoignage disponible pour le moment.</p>
        {% endfor %}
    </div>
</section>

<!-- ==================== Styles supplémentaires ==================== -->
<style>
/* Expert */
.expert .box:hover { transform: translateY(-5px); box-shadow: 0 8px 20px rgba(0,0,0,0.15); }
.expert .text h3 { font-size: 1.2rem; font-weight:600; margin-top:0.5rem; }
.expert .text p { font-size:0.9rem; color:#555; }

/* Services */
.service-card { background:#fff; border-radius:15px; transition:0.3s; }
.service-card:hover { transform: translateY(-8px); box-shadow:0 12px 25px rgba(0,0,0,0.15); }
.service-icon { width:70px; height:70px; display:flex; align-items:center; justify-content:center; margin:0 auto; background:#eaf2fb; border-radius:50%; }
.services h3 { color:#1F618D; }
.services h5 { color:#2E86C1; }
.services p { font-size:0.95rem; line-height:1.5; }

/* Applications */
.applications .card:hover { transform: translateY(-5px); box-shadow:0 8px 20px rgba(0,0,0,0.15); transition:0.3s; }
.applications .card-title { font-size:1.25rem; margin-bottom:0.75rem; }
.applications .card-text { font-size:0.95rem; margin-bottom:1rem; }
.applications video { width:100%; border-radius:0.5rem 0.5rem 0 0; }

/* Témoignages */
.temoignage-card { background:#f0f4f8; border-radius:15px; padding-top:70px; transition:0.3s; }
.temoignage-card:hover { transform:translateY(-5px); box-shadow:0 10px 25px rgba(0,0,0,0.15); }
.name-badge { position:absolute; top:-20px; left:50%; transform:translateX(-50%); background:#2E86C1; color:#fff; font-weight:600; padding:8px 16px; border-radius:50px; box-shadow:0 3px 8px rgba(0,0,0,0.2); font-size:1rem; }
.name-badge img { width:40px; height:40px; border-radius:50%; object-fit:cover; }
</style>

<!-- ==================== AOS Animation ==================== -->
<link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
<script>
  AOS.init({ duration:1000, once:true });
</script>

{% endblock %}
